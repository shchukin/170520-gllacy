document.addEventListener("DOMContentLoaded",function(a){function c(){navigator.userAgent.indexOf("WebKit")+1&&!(navigator.userAgent.indexOf("Edge")+1)?b.classList.add("webkit"):navigator.userAgent.indexOf("Edge")+1?b.classList.add("edge"):navigator.userAgent.indexOf("Firefox")+1&&b.classList.add("firefox")}var b=document.querySelector("html");c()}),document.addEventListener("DOMContentLoaded",function(a){var b=document.querySelectorAll(".input__control");[].forEach.call(b,function(a){a.addEventListener("input",function(){this.value.length?this.parentNode.classList.add("input_fill"):this.parentNode.classList.remove("input_fill")})})}),document.addEventListener("DOMContentLoaded",function(a){var b,c={},d={};b=document.querySelector(".popup_feedback"),c.form=document.querySelector("#feedback"),c.name=c.form.querySelector("#feedback-name"),c.email=c.form.querySelector("#feedback-email"),c.message=c.form.querySelector("#feedback-message"),d.name=localStorage.getItem("feedback-name"),d.email=localStorage.getItem("feedback-email"),d.name&&(c.name.value=d.name),d.email&&(c.email.value=d.email),c.form.addEventListener("submit",function(a){return a.preventDefault(),c.name.value&&c.email.value&&c.message.value?(localStorage.setItem("feedback-name",c.name.value),localStorage.setItem("feedback-email",c.email.value),alert("Спасибо! Ваше сообщение отправлено."),void c.form.submit()):(b.classList.add("popup_error"),void alert("Пожалуйста, заполните все поля!"))})}),document.addEventListener("DOMContentLoaded",function(a){function c(){var a=document.createElement("div");return a.classList.add("scrollbar-measure"),document.body.appendChild(a),scrollbarWidth=a.offsetWidth-a.clientWidth,a.parentNode.removeChild(a),scrollbarWidth}function d(){b.classList.add("html-lock"),b.style.paddingRight=c()+"px"}function e(){b.classList.remove("html-lock"),b.style.paddingRight=0}function f(a){if(d(),a.classList.add("popup_visible"),"feedback"===a.id)for(var b=a.querySelectorAll("#feedback-name, #feedback-email, #feedback-message"),c=0;c<b.length;c++)if(!b[c].value.length){b[c].focus();break}}function g(a){a||(a=document.querySelector(".popup_visible")),a&&(a.classList.remove("popup_visible"),e())}var b=document.querySelector("html");$popupHandler=document.querySelectorAll("[data-popup]"),[].forEach.call($popupHandler,function(a){a.addEventListener("click",function(a){a.preventDefault(),f(document.querySelector(this.dataset.popup))})}),$popupClose=document.querySelectorAll(".popup .cancel"),[].forEach.call($popupClose,function(a){a.addEventListener("click",function(a){a.preventDefault(),g(this.parentNode.parentNode)})}),$popupOverlay=document.querySelectorAll(".popup__overlay"),[].forEach.call($popupOverlay,function(a){a.addEventListener("click",function(a){a.preventDefault(),g(this.parentNode)})}),window.addEventListener("keydown",function(a){27===a.keyCode&&g()})});